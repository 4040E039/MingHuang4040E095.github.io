webpackJsonp([1],{"5VxZ":function(t,e){},BvLc:function(t,e){},H29T:function(t,e){t.exports=L},KfnS:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("lRwf"),r=n.n(a),s={data:function(){return{activeIndex:"1"}},methods:{handleSelect:function(t,e){console.log(t,e)}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("div",[t._v("口罩地圖")]),t._v(" "),n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal",justify:"space-between"},on:{select:t.handleSelect}},[n("el-menu-item",{attrs:{index:"1"}},[n("router-link",{attrs:{to:"/"}},[t._v("最新消息")])],1),t._v(" "),n("el-menu-item",{attrs:{index:"2"}},[n("router-link",{attrs:{to:"/hello"}},[t._v("hello")])],1),t._v(" "),n("el-submenu",{attrs:{index:"3"}},[n("template",{slot:"title"},[t._v("我的工作台")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-1"}},[t._v("选项1")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-2"}},[t._v("选项2")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-3"}},[t._v("选项3")])],2)],1)],1)},staticRenderFns:[]},i={name:"App",components:{navbar:n("VU/8")(s,o,!1,null,null,null).exports}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("el-container",{staticClass:"display-full"},[e("el-header",{staticClass:"header"},[e("navbar")],1),this._v(" "),e("transition",{attrs:{name:"bounce"}},[e("router-view")],1)],1)],1)},staticRenderFns:[]};var c=n("VU/8")(i,l,!1,function(t){n("fSXS")},null,null).exports,u=n("pRNm"),d=n.n(u),p=n("Xxa5"),f=n.n(p),h=n("exGp"),m=n.n(h),A={data:function(){return{countysList:["臺北市","新北市","桃園市","臺中市","高雄市","臺南市","基隆市","新竹市","新竹縣","苗栗縣","彰化縣","雲林縣","嘉義市","嘉義縣","屏東縣","宜蘭縣","花蓮縣","臺東縣","南投縣","澎湖縣","金門縣","連江縣"],county:"",townsList:[],town:""}},computed:{maskInfoArray:function(){return this.$store.state.maskInfoArray},filterMarksCounty:function(){return this.$store.state.filterMarksCounty}},methods:{getCounty:function(){var t=this;return m()(f.a.mark(function e(){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.town="",n=[],t.maskInfoArray.forEach(function(e){e.properties.county==t.county&&n.push(e)}),t.$store.dispatch("filterMarksCounty",n),t.townsList=[],n.forEach(function(e){-1===t.townsList.indexOf(e.properties.town)&&t.townsList.push(e.properties.town)});case 6:case"end":return e.stop()}},e,t)}))()},getTown:function(){var t=this,e=[];this.filterMarksCounty.forEach(function(n){n.properties.town==t.town&&e.push(n)}),console.log(e),this.$store.dispatch("filterMarksTown",e)}},mounted:function(){}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",{staticClass:"box-card"},[n("el-select",{staticClass:"el-select margin-xs",attrs:{placeholder:"請選擇 縣/市"},on:{change:t.getCounty},model:{value:t.county,callback:function(e){t.county=e},expression:"county"}},t._l(t.countysList,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1),t._v(" "),t.county?n("el-select",{staticClass:"el-select margin-xs",attrs:{placeholder:"請選擇 區/鄉/鎮"},on:{change:t.getTown},model:{value:t.town,callback:function(e){t.town=e},expression:"town"}},t._l(t.townsList,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1):t._e()],1)},staticRenderFns:[]};var w=n("VU/8")(A,g,!1,function(t){n("WQA8")},"data-v-3e80611c",null).exports,v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",{staticClass:"box-card margin-t-sm"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("h2",{staticClass:"margin-xs"},[t._v(t._s(t.detail.name))])]),t._v(" "),n("div",{staticClass:"margin-xs"},[t._v("電話: "+t._s(t.detail.phone))]),t._v(" "),n("div",{staticClass:"margin-xs"},[t._v("地址: "+t._s(t.detail.address))]),t._v(" "),n("div",{staticClass:"margin-xs"},[t._v("成人口罩: "+t._s(t.detail.mask_adult))]),t._v(" "),n("div",{staticClass:"margin-xs"},[t._v("兒童口罩: "+t._s(t.detail.mask_child))]),t._v(" "),n("div",{staticClass:"margin-xs"},[t._v(t._s(t.detail.note))])])},staticRenderFns:[]};var k=n("VU/8")({data:function(){return{msg:"Welcome to Your Vue.js  App"}},computed:{detail:function(){return this.$store.state.detail}}},v,!1,function(t){n("5VxZ")},null,null).exports,j=n("H29T"),C=n.n(j),x=(n("0J91"),{data:function(){return{mapObj:{},MarkerClusterGroup:new C.a.MarkerClusterGroup,greenIcon:{}}},computed:{filterMarksCounty:function(){return this.$store.state.filterMarksCounty},filterMarksTown:function(){return this.$store.state.filterMarksTown}},watch:{filterMarksCounty:function(t){this.markOnMap(t)},filterMarksTown:function(t){this.markOnMap(t)}},methods:{mapInit:function(){this.mapObj=C.a.map("map").setView([22.604799,120.2976256],13),C.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.mapObj),this.greenIcon=new C.a.Icon({iconUrl:n("jfqf"),shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[30,33],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[45,35]}),this.mapObj.locate({setView:!0,maxZoom:16}),this.mapObj.on("locationfound",function(t){var e=t.accuracy/2;C.a.marker(t.latlng).addTo(this.mapObj).bindPopup("現在位置"),C.a.circle(t.latlng,e).addTo(this.mapObj)}),this.mapObj.on("locationerror",function(t){alert("定位失敗")})},markOnMap:function(t){var e=this;this.MarkerClusterGroup.clearLayers();var n=[];t.forEach(function(t){var a=t.geometry.coordinates[1],r=t.geometry.coordinates[0],s=C.a.marker([a,r],{icon:e.greenIcon}).bindPopup("\n        <table>\n        <tbody>\n          <tr>\n            <td>名稱 : </td>\n            <td>"+t.properties.name+"</td>\n          </tr>\n          <tr>\n            <td>電話 : </td>\n            <td>"+t.properties.phone+"</td>\n          </tr>\n          <tr>\n            <td>地址 : </td>\n            <td>"+t.properties.address+"</td>\n          </tr>\n          <tr>\n            <td>成人口罩數量 : </td>\n            <td>"+t.properties.mask_adult+"</td>\n          </tr>\n          <tr>\n            <td>兒童口罩數量 : </td>\n            <td>"+t.properties.mask_child+"</td>\n          </tr>\n        </tbody>\n        </table>\n        <style>\n          tr > td:first-child{\n            text-align:right;\n            width:90px;\n          }\n          .leaflet-popup-content-wrapper, .leaflet-popup-tip {\n            background:#ff8f74;\n            color:#ffffff;\n          }\n          .leaflet-container a.leaflet-popup-close-button{\n            color:#fff;\n          }\n        </style>\n        ").on("click",function(){e.$store.dispatch("getDetail",t.properties)});n.push(s),e.MarkerClusterGroup.addLayer(s)}),this.mapObj.setView([n[0]._latlng.lat,n[0]._latlng.lng],12),this.mapObj.addLayer(this.MarkerClusterGroup)}},mounted:function(){this.mapInit()}}),b={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"map"}})},staticRenderFns:[]};var y=n("VU/8")(x,b,!1,function(t){n("KfnS")},null,null).exports,_=n("OMN4"),M=n.n(_),V={components:{boxCardSearch:w,boxCardDetail:k,maskMap:y},data:function(){return{detailCard:!1}},computed:{detail:function(){return this.$store.state.detail}},watch:{detail:function(){this.detailCard=!0}},methods:{getMask:function(){this.$store.dispatch("getMaskInfo")}},mounted:function(){this.getMask()}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",[e("el-aside",{staticClass:"detail-padding",attrs:{width:"300px"}},[e("boxCardSearch"),this._v(" "),this.detailCard?e("boxCardDetail"):this._e()],1),this._v(" "),e("el-container",[e("el-main",{staticClass:"map-padding"},[e("maskMap")],1)],1)],1)},staticRenderFns:[]};var U=n("VU/8")(V,T,!1,function(t){n("ZH+n")},null,null).exports,B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",{staticStyle:{padding:"20px"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:this.tableData}},[e("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),this._v(" "),e("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),this._v(" "),e("el-table-column",{attrs:{prop:"address",label:"地址"}})],1)],1)},staticRenderFns:[]},z=n("VU/8")({data:function(){return{tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}}},B,!1,null,null,null).exports;r.a.use(d.a);var F=new d.a({routes:[{path:"/",name:"homePage",component:U},{path:"/hello",name:"hello",component:z}]}),O=n("NYxO");r.a.use(O.a);var D=new O.a.Store({state:{maskInfoArray:[],filterMarksCounty:[],filterMarksTown:[],detail:{}},mutations:{getMaskInfo:function(t,e){t.maskInfoArray=e},filterMarksCounty:function(t,e){t.filterMarksCounty=e},filterMarksTown:function(t,e){t.filterMarksTown=e},getDetail:function(t,e){t.detail=e}},actions:{getMaskInfo:function(t){return M.a.get("https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json").then(function(e){t.commit("getMaskInfo",e.data.features)}).catch(function(t){console.log(t)})},filterMarksCounty:function(t,e){t.commit("filterMarksCounty",e)},filterMarksTown:function(t,e){t.commit("filterMarksTown",e)},getDetail:function(t,e){t.commit("getDetail",e),console.log(e)}}});n("BvLc"),n("VRXO");r.a.config.productionTip=!1,new r.a({el:"#app",router:F,store:D,components:{App:c},template:"<App/>"})},OMN4:function(t,e){t.exports=axios},VRXO:function(t,e){},WQA8:function(t,e){},"ZH+n":function(t,e){},fSXS:function(t,e){},jfqf:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAG7AAABuwE67OPiAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAYZQTFRF/////wCA/1VV/0BA/zMz/0lJ4zk55jNN6zs77TdJ7jNE70BA8Dw86TdD6jVA7TdA7TU+7zpC7DlA8DZA7DlC7DhB7TdA7jdA7zhA7zc/7Tc/7jg/7zdB7ThB7ThA7jdA7zc/7zlB7zc/7jlA7jhA7zg/7zlA7TdA7jhB7zhA7Tc/7TlB7jhA7jg/7zhA7jhA7jhA7jk/7zhA7zc/7ThB7jlB7jdB7jhA7jg/7jhA7jhA7jhA7jhA7jc/7jlA7jg/7jhA7jhA7jlA7jdA7zg/7jg/7jhA7jhA7jhA7jg/7jdA7jg/7jhA7jhA7jg/7jhA7jg/7jhA7jhA7jhA7jhA7jlB7jtD7z1F70BH70JJ70RL70VM70ZM8ElP8Vdc8Vld8ltf8lxg8mBk8mJm82dq825w9G9x9HFz9HZ39Xl69YKB9oaF9oqJ946M94+N95aU+JuY+J2Z+J+b+aWh+qyn+7u0/L+3/MK6/Me//crB/c7G/dDH/tPK/trQ/93S/97U/+DV/+HWi9+UUAAAAFR0Uk5TAAIDBAUHCQoNDg8QERcYHB0fKDQ2Nzg8QEFFSU9WV1hdXmFnaG1wc3p8gYKIiYyTl5mcnZ6iprO1tre/wMHCxczO1NjZ4err7O3v8fP09fj5+/z+MxvIQwAAAnBJREFUGBmdwQk7VFEABuBvGFtkJ5LIlpCSNSVbM/bl5ssaTUVly1Ip+5x/nsfT455z7zl3znhfGGU9bO169XZy8u3rrtaHWUhSbm3vLCWzvbW5sJf73KGP8zwXdjKbp6g11ZwJC/ejNIreR0L17xjgXT2ChduYQFsYAVJeMqGXKTB7RgvPYFRLK7UwKHdoxSmHVlqEliJp0HlMr9XN3cPD3c1Vej2GRvYYVZ9/x8W1+O/PVI1lw6+FioW9uLgR31ugogU+GdOUfforFH8/UTadAa8HlK1dCI+LNcoewKuDkvk/wufPPCUd8AhFKfkhNH5QEg1BdY+S2KXQuIxRcg+qOkp+Ca1flNRB1UzXwrnQOl+gqxmqF3R9EQZf6HoBVQ9d34XBd7p6oBqka1sYbNM1CNUburaEwRZdb6DqpOubMPhGVydUTXR9FAYf6WqCqoau96dC6/Q9XTVQlVGyL7T2KSmDqoCSD2dC4+wDJQVQpTiUfBUaXylxUuAxQNlP4fOTsgF4NVC2fCw8jpcpa4DXXYeyxQOhOFikzLkLnx6q1k/EjZN1qnrgV0WPpZ2juLgSP9pZokcV/NIn6LMS29iIrdBnIh0a7bTWDp2iOVqaK4JWFy11Qa9ghlZmCmDwlFaewuTOCC2M3IFRPS3Uwyw8zISGwwhQ7DABpxiBGplAI4KF+hioL4QE8scZYDwfCVUyQCUstNGoDTZSu2nQnQor6f3U6k+HpZwhagzlwFpehD6RPCShcJQeo4VISuk0FdOlSFKFQ4lTgaRVz/HGXDVu4ZHD/5xHuJWKKV6bqsAtlYzwykgJbi3/ydDQk3wE+Qe8yj6NIv6VcwAAAABJRU5ErkJggg=="},lRwf:function(t,e){t.exports=Vue},pRNm:function(t,e){t.exports=VueRouter}},["NHnr"]);
//# sourceMappingURL=app.c8ba113c6902c506ad11.js.map